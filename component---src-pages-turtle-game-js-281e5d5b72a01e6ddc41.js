(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{160:function(t,n,e){"use strict";e.r(n);e(165);var r=e(8),i=e(0),c=e.n(i),o=e(168),s=e(167),a=e(9),u=e.n(a),l=e(60),f=e(197),b=e.n(f),m=Object(l.b)(function(t){return{direction:t.turtleGame.direction}})(function(t){var n={transform:"rotate("+t.direction+"deg)"};return Object(r.b)("img",{style:n,src:b.a})}),d=e(198),p=e.n(d),h=function(t){return Object(r.b)("img",{src:p.a})},v=function(t){function n(n){return t.call(this,n)||this}u()(n,t);var e=n.prototype;return e.clickCell=function(){console.log(this.props)},e.getComp=function(t){return"turtle"===t?{comp:Object(r.b)(m,null),class:"turtle"}:"collision"===t?{comp:Object(r.b)(h,null),class:"mine visited"}:"mine"===t?{comp:Object(r.b)(h,null),class:"mine"}:"visited"===t?{comp:Object(r.b)("div",null),class:"visited"}:{comp:Object(r.b)("div",null),class:"empty"}},e.render=function(){var t=this,n=this.getComp(this.props.type);return Object(r.b)("div",{onClick:function(){return t.clickCell()},className:"cell"},Object(r.b)("div",{className:"mask "+n.class}),n.comp)},n}(i.Component),O=function(t){var n=Object(i.useState)(3),e=n[0],c=n[1];return Object(r.b)("div",null,Object(r.b)("button",{onClick:function(){t.callback("move")}},"Move"),Object(r.b)("button",{onClick:function(){t.callback("rotate")}},"Rotate"),Object(r.b)("button",{onClick:function(){return function(){if(c(e-1),e>0){var t=document.querySelectorAll(".cell .mask");t.forEach(function(n,e){setTimeout(function(){return n.classList.add("display")},50*e),setTimeout(function(){t.forEach(function(t){return t.classList.remove("display")})},t.length+50*e)})}}()},disabled:!(e>0)},"show/hide ",e))},j=e(2),y=e.n(j),g=e(78),w=e(170),x=function(t){function n(n){var e;return(e=t.call(this,n)||this).state={turtle:e.props.turtle,mines:e.props.mines,minesMap:Object(w.f)(e.props.mines),direction:e.props._direction,cellVisited:[],col:new Array(e.props.size.h).fill(null),row:new Array(e.props.size.w).fill(null),commands:[]},e}u()(n,t);var e=n.prototype;return e.transformPos=function(t){return t.x+"_"+t.y},e.getType=function(t,n){var e=this.transformPos({x:t,y:n}),r=this.transformPos(this.state.turtle);return e===r&&this.state.minesMap[e]?"collision":this.state.minesMap[e]?"mine":e===r?"turtle":this.state.cellVisited.indexOf(e)>-1?"visited":"cell"},e.componentDidUpdate=function(){},e.updateTurtle=function(t){"move"===t?this.setState({turtle:Object(w.a)(this.state.turtle,this.props._direction),cellVisited:[].concat(this.state.cellVisited,[this.transformPos(this.state.turtle)]),commands:[].concat(this.state.commands,[t.charAt(0)])}):(this.setState({commands:[].concat(this.state.commands,[t.charAt(0)])}),this.props._rotate())},e.render=function(){var t=this,n=Object(w.d)(this.state.turtle,this.props.size),e=Object(w.b)(this.transformPos(this.state.turtle),this.state.minesMap);return Object(r.b)(i.Fragment,null,n&&Object(r.b)("div",null,"OUTSIDE"),e&&Object(r.b)("div",null,"COLLISION"),Object(r.b)("div",{className:"grid"},this.state.col.map(function(n,e){return Object(r.b)("div",{key:e,className:"row-container"},t.state.row.map(function(n,i){var c=t.getType(i+1,e+1);return Object(r.b)(v,{type:c,key:i,x:i+1,y:e+1})}))})),Object(r.b)(O,{callback:function(n){return t.updateTurtle(n)}}),this.state.commands.length>0&&Object(r.b)(i.Fragment,null,Object(r.b)("h3",null,"Commands"),Object(r.b)("code",null,this.state.commands.map(function(t){return"'"+t+"'"}).join(", "))))},n}(c.a.Component);x.propTypes={size:y.a.object.isRequired,turtle:y.a.object.isRequired,mines:y.a.array.isRequired};var k=Object(l.b)(function(t){return{_direction:t.turtleGame.direction}},function(t){return{_rotate:function(){return t(Object(g.b)())}}})(x),C=Object(w.e)(5,10),M=Object(w.e)(5,10),A=Object(w.e)(2,37.5),T=new Array(A).fill(null).map(function(t){return{x:Object(w.e)(2,10),y:Object(w.e)(2,10)}});console.log(T);var P={w:C,h:M};n.default=function(){return Object(r.b)(o.a,null,Object(r.b)(s.a,{title:"Game",keywords:["gatsby","game","react"]}),Object(r.b)("h1",null,"Deminor Game"),Object(r.b)("p",null,"Find the exit and take care to the mines..."),Object(r.b)(k,{className:"grid-component",size:P,turtle:{x:1,y:1},mines:T}))}},165:function(t,n,e){var r=e(12);r(r.P,"Array",{fill:e(169)}),e(39)("fill")},169:function(t,n,e){"use strict";var r=e(29),i=e(90),c=e(17);t.exports=function(t){for(var n=r(this),e=c(n.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,e),a=o>2?arguments[2]:void 0,u=void 0===a?e:i(a,e);u>s;)n[s++]=t;return n}},170:function(t,n,e){"use strict";e.d(n,"f",function(){return r}),e.d(n,"a",function(){return i}),e.d(n,"d",function(){return c}),e.d(n,"b",function(){return o}),e.d(n,"e",function(){return s}),e.d(n,"c",function(){return a});e(172),e(165);var r=function(t){var n={};for(var e in t){n[t[e].x+"_"+t[e].y]=1}return n},i=function(t,n){var e,r=t.x,i=t.y;return 0===n?e={x:r,y:i-1}:90===n?e={x:r+1,y:i}:180===n?e={x:r,y:i+1}:270===n&&(e={x:r-1,y:i}),e},c=function(t,n){var e=t.x,r=t.y,i=n.h,c=n.w;return!(e>0&&e<=c)||!(r>0&&r<=i)},o=function(t,n){return!!n[t]},s=function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t},a=function(){for(var t=new Array(26).fill(null).map(function(t,n){return String.fromCharCode(65+n)}),n=s(5,10),e=[],r=25,i=1;i<n;i++){var c=s(0,r);e.push(t[c]),t.splice(c,1),r--}(e=e.concat(e)).sort(function(){return Math.random()-.5});var o={};for(i=1;i<e.length;i++)o[i]=e[i];return o}},172:function(t,n,e){"use strict";var r=e(12),i=e(30),c=e(29),o=e(21),s=[].sort,a=[1,2,3];r(r.P+r.F*(o(function(){a.sort(void 0)})||!o(function(){a.sort(null)})||!e(173)(s)),"Array",{sort:function(t){return void 0===t?s.call(c(this)):s.call(c(this),i(t))}})},173:function(t,n,e){"use strict";var r=e(21);t.exports=function(t,n){return!!t&&r(function(){n?t.call(null,function(){},1):t.call(null)})}},197:function(t,n,e){t.exports=e.p+"static/turtle-829e6ff7f2a7a884849e36746513042e.png"},198:function(t,n,e){t.exports=e.p+"static/mine-520178a9e230470dffce265d175ba018.png"}}]);
//# sourceMappingURL=component---src-pages-turtle-game-js-281e5d5b72a01e6ddc41.js.map